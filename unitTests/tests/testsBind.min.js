(function(){var c=function(c,a){test("Bind - View.on() :: Remove + Insert via setData from Collection",function(){a.dbUp();a.dataUp();a.viewUp();a.domUp();userView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+"</li>")}});user.setData({_id:"2342",name:"hello"});var b=$("#testTarget").find("#2342");ok(1===b.length,"Insert single document");a.viewDown();a.domDown();a.dbDown()});test("Bind - View.on() :: Insert from Collection",function(){a.dbUp();a.dataUp();a.viewUp();a.domUp();
userView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+"</li>")}});user.insert({_id:"2342",name:"hello"});var b=$("#testTarget").find("#2342");ok(1===b.length,"Insert single document");a.viewDown();a.domDown();a.dbDown()});test("Bind - View.on() :: Update from Collection",function(){a.dbUp();a.dataUp();a.viewUp();a.domUp();userView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+"</li>")}});user.insert({_id:"2342",name:"hello"});var b=$("#testTarget").find("#2342").text();
ok("hello"===b,"Insert single document");user.update({_id:"2342"},{name:"hello2"});b=$("#testTarget").find("#2342").text();ok("hello2"===b,"Update single document");a.viewDown();a.domDown();a.dbDown()});test("Bind - View.on() :: Remove from Collection",function(){a.dbUp();a.dataUp();a.viewUp();a.domUp();userView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+"</li>")}});user.insert({_id:"2342",name:"hello"});var b=$("#testTarget").find("#2342");ok(1===b.length,"Insert single document");
user.remove({_id:"2342"});b=$("#testTarget").find("#2342");ok(0===b.length,"Remove single document");a.viewDown();a.domDown();a.dbDown()});test("Bind - View.on() :: Insert from CollectionGroup via Collection Interface",function(){a.dbUp();a.dataUp();a.viewUp();a.viewGroupUp();a.domUp();user.on("insert",function(){ok(!0,"Collection insert")});userView.on("insert",function(){ok(!0,"View insert")});userGroup.on("insert",function(){ok(!0,"Group insert")});userGroupView.on("insert",function(){ok(!0,"View from group insert")});
userGroupView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+"</li>")}});user.insert({_id:"2342",name:"hello"});var b=$("#testTarget").find("#2342");ok(1===b.length,"Insert single document");a.domDown();a.viewGroupDown();a.viewDown();a.dbDown()});test("Bind - View.on() :: Update from CollectionGroup via Collection Interface",function(){a.dbUp();a.dataUp();a.viewUp();a.viewGroupUp();a.domUp();user.on("update",function(){ok(!0,"Collection update")});userView.on("update",function(){ok(!0,
"View update")});userGroup.on("update",function(){ok(!0,"Group update")});userGroupView.on("update",function(){ok(!0,"View from group update")});userGroupView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+"</li>")}});user.insert({_id:"2342",name:"hello"});var b=$("#testTarget").find("#2342").text();ok("hello"===b,"Insert single document");user.update({_id:"2342"},{name:"hello2"});b=$("#testTarget").find("#2342").text();ok("hello2"===b,"Update single document");a.viewGroupDown();
a.viewDown();a.dbDown()});test("Bind - View.on() :: Remove from CollectionGroup via Collection Interface",function(){a.dbUp();a.dataUp();a.viewUp();a.viewGroupUp();a.domUp();user.on("remove",function(){ok(!0,"Collection remove")});userView.on("remove",function(){ok(!0,"View remove")});userGroup.on("remove",function(){ok(!0,"Group remove")});userGroupView.on("remove",function(){ok(!0,"View from group remove")});userGroupView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+
"</li>")}});user.insert({_id:"2342",name:"hello"});var b=$("#testTarget").find("#2342");ok(1===b.length,"Insert single document");user.remove({_id:"2342"});b=$("#testTarget").find("#2342");ok(0===b.length,"Remove single document");a.domDown();a.viewGroupDown();a.viewDown();a.dbDown()});test("Bind - View.on() :: Insert from CollectionGroup via CollectionGroup Interface",function(){a.dbUp();a.dataUp();a.viewUp();a.viewGroupUp();a.domUp();user.on("insert",function(){ok(!0,"Collection insert")});userView.on("insert",
function(){ok(!0,"View insert")});userGroup.on("insert",function(){ok(!0,"Group insert")});userGroupView.on("insert",function(){ok(!0,"View from group insert")});userGroupView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+"</li>")}});userGroup.insert({_id:"2342",name:"hello"});var b=$("#testTarget").find("#2342");ok(1===b.length,"Insert single document");a.domDown();a.viewGroupDown();a.viewDown();a.dbDown()});test("Bind - View.on() :: Update from CollectionGroup via CollectionGroup Interface",
function(){a.dbUp();a.dataUp();a.viewUp();a.viewGroupUp();a.domUp();user.on("update",function(){ok(!0,"Collection update")});userView.on("update",function(){ok(!0,"View update")});userGroup.on("update",function(){ok(!0,"Group update")});userGroupView.on("update",function(){ok(!0,"View from group update")});userGroupView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+"</li>")}});userGroup.insert({_id:"2342",name:"hello"});var b=$("#testTarget").find("#2342").text();ok("hello"===
b,"Insert single document");userGroup.update({_id:"2342"},{name:"hello2"});b=$("#testTarget").find("#2342").text();ok("hello2"===b,"Update single document");a.viewGroupDown();a.viewDown();a.dbDown()});test("Bind - View.on() :: Remove from CollectionGroup via CollectionGroup Interface",function(){a.dbUp();a.dataUp();a.viewUp();a.viewGroupUp();a.domUp();user.on("remove",function(){ok(!0,"Collection remove")});userView.on("remove",function(){ok(!0,"View remove")});userGroup.on("remove",function(){ok(!0,
"Group remove")});userGroupView.on("remove",function(){ok(!0,"View from group remove")});userGroupView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+"</li>")}});userGroup.insert({_id:"2342",name:"hello"});var b=$("#testTarget").find("#2342");ok(1===b.length,"Insert single document");userGroup.remove({_id:"2342"});b=$("#testTarget").find("#2342");ok(0===b.length,"Remove single document");a.domDown();a.viewGroupDown();a.viewDown();a.dbDown()});test("Bind - View() :: View sort",
function(){a.dbUp();a.viewUp();a.dataUp();a.domUp();userView.queryOptions({sort:{name:1}},!1).bind("#testTarget",{template:function(a,b){b('<li class="item" id="'+a._id+'">'+a.name+"</li>")}});user.insert({_id:"2342",name:"adam"});user.insert({_id:"23432",name:"zelda"});user.insert({_id:"2322",name:"beta"});userView.find();var b=$("#testTarget").find(".item");ok(6===b.length,"Insert documents");ok("adam"===$(b[0]).html(),"Alphabetical 1");ok("beta"===$(b[1]).html(),"Alphabetical 2");ok("Dean"===$(b[2]).html(),
"Alphabetical 3");ok("Jim"===$(b[3]).html(),"Alphabetical 4");ok("Kat"===$(b[4]).html(),"Alphabetical 5");ok("zelda"===$(b[5]).html(),"Alphabetical 6");a.viewDown();a.domDown();a.dbDown()})};"function"===typeof define&&define.amd?require(["../ForerunnerDB","./base"],function(d,a){c(d,a)}):c(ForerunnerDB,base)})();
